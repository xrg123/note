做过的项目主要有两个，一个是广州南站智慧公寓系统，这个系统是为方便广州南站进行人员管理、乘务员健康监控等服务的。此工作主要集中在前端，项目中我们使用了基于Nginx的ZcmIIs服务器。另一个项目是驿书交易系统，此项目是一个包含酒店住宿、景区门票的在线交易系统，主要包括交易交换转让、团购、订房小程序及管理模块这些功能。这个项目我们用了Springboot+Mybatis框架，数据库采用的是MySQL，同时用redis做了缓存。项目中，我们采用Quartz进行任务调度，并使用rabbitMQ进行异步请求。项目的日志系统使用的是logback+slf4j。在此项目中，我的职责是参与并完成用户登录及权限验证部分的工作，完成团购模块的工作并参与部分前端工作。

-----------------------------------------------------------------------------------------------------------------------------------------------------------

用户表：id,电话，用户名，身份证号，昵称，salt,状态（锁定、未锁定）

角色表：id,uid，角色

用户等级表：用户id，等级，积分

用户支付表：用户id，银行卡信息

用户登录后，会生成一个token作为key,用户信息作为value,将其存到redis中，并将token返回到前端。前端进行其他请求时，会将token放在请求头中，从redis中获取

### 1、分布式session

为什么要用分布式session,直接存在tomcat中不就可以了吗

1、如果业务量很大的话，存在tomcat中会增大服务器内存压力

2、采用tomcat集群，每个tomcat节点只能存储自己产生的session,同一个用户访问不同的tomcat会产生不同的session存储在不同tomcat中。如果要进行权限验证的话，会导致在不同tomcat节点中重复验证。

### 2、自定义注解及参数校验

过滤器解决跨域问题

写一个类实现Filter接口，接口中有三个方法，initial（）、destory()及doFilter()方法，在foFilter()方法中写如过滤器。过滤后，执行FilterChain的doFilter()方法

在过滤器中设置响应头参数“Access-Control-Allow-Origin”等解决跨域

=======================================================================================

JSR303参数校验

首先进行导包。

写一个注解类。

实现验证过程。

=======================================================================================

拦截器进行登录及权限验证。

写一个类实现HandlerInterceptor接口，有三个方法preHandle、postHandle、afterCompletion，在preHandle中进行拦截

1、登录验证

获取方法注解，若注解为空，return true放过。若注解不为空，存在AccessToken,从请求头部信息中去除token在redis中进行验证，已登录，放过，未登录，返回错误码，前端跳转到登录页面

2、权限验证

获取注解权限

获取用户权限

进行比对

### 3、自定义异常码及全局异常捕获器

捕获全局异常用ControllerAdvice和ExceptionHandler注解进行

### 4、团购业务

团购项目表：id（时间戳),项目名称,开始时间，结束时间，总金额，成功比例，审核状态（通过，未审核，驳回）

项目详情表：id,项目id,当前完成金额，当前团购人数，当前完成状态（正在进行，完成，失败）

项目进展表：id,项目名称，项目进展，时间

团购订单：订单号（），项目id,项目名称，用户id,用户名，数量，单价，总金额，生成时间，支付状态















